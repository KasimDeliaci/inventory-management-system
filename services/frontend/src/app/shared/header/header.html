<header class="page-header">
  <h1>{{ title }}</h1>

  <div class="actions">
    <div class="search">
      <span class="icon">üîç</span>
      <input
        type="text"
        [value]="query"
        (input)="onInput($any($event.target).value)"
        placeholder="Search" />
      <button class="ghost" *ngIf="query" (click)="clearSearch.emit()">‚úñ</button>
    </div>

    <button class="danger"
            type="button"
            [disabled]="deletableCount === 0"
            (click)="deleteSelected.emit()">
      <img class="i" src="assets/icons/trash.png" alt="delete" />
      Delete <span *ngIf="deletableCount">({{ deletableCount }})</span>
    </button>

    <div class="filter-container" *ngIf="showFilters">
      <button class="filter" type="button" (click)="openFilters.emit()">
        <img class="i" src="assets/icons/filter.png" alt="filters" />
        Filters
        <span class="filter-indicator" *ngIf="statusFilter !== 'all'"></span>
      </button>
      
      <div class="filter-dropdown" *ngIf="filterOpen">
        <button 
          class="filter-option" 
          [class.active]="statusFilter === 'all'"
          (click)="onFilterClick('all')">
          All
        </button>
        <button 
          class="filter-option ok" 
          [class.active]="statusFilter === 'ok'"
          (click)="onFilterClick('ok')">
          <span class="status-dot ok"></span>
          OK
        </button>
        <button 
          class="filter-option warning" 
          [class.active]="statusFilter === 'warning'"
          (click)="onFilterClick('warning')">
          <span class="status-dot warning"></span>
          Warning
        </button>
        <button 
          class="filter-option critical" 
          [class.active]="statusFilter === 'critical'"
          (click)="onFilterClick('critical')">
          <span class="status-dot critical"></span>
          Critical
        </button>
      </div>
    </div>

    <button class="primary" type="button" (click)="addProduct.emit()">{{ addButtonText }}</button>
  </div>
</header>